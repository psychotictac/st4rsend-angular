<div *ngIf="editMode else normal">
	<div *ngIf='!creating'>
		<button (click)="docCreateItem()">New</button>
	</div>
	<div *ngIf='creating'>
		<app-edit-item-doc
			(itemDocCloseEvent)='itemDocCloseEvent($event)'>
		</app-edit-item-doc>
	</div>
	<cdk-virtual-scroll-viewport itemSize="30" 
		class="viewport" cdkDropList 
		(cdkDropListDropped)="drop($event)">
	<div *cdkVirtualFor="let item of docs; let i = index;" 
		class="item-edit"
		(click)="itemFocus(i)"
		[ngClass]="selectedIndex === i ? 'doc-item-edit-highlight doc-item-edit-format' : 'doc-item-edit doc-item-edit-format'"
		cdkDrag>
		<div class="edit-left">
			<app-text-item-doc *ngIf="item.typeValue=='TEXT'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-text-item-doc>
			<app-svg-item-doc *ngIf="item.typeValue=='SVG'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-svg-item-doc>
			<app-url-svg-item-doc *ngIf="item.typeValue=='SVG-URL'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-url-svg-item-doc>
			<app-list-item-doc *ngIf="item.typeValue=='LIST'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-list-item-doc>
		</div>
		<div class="edit-right">
			<button mat-icon-button (click)='moveUp(i);'>
				<mat-icon>arrow_upward</mat-icon></button>
			<button mat-icon-button (click)='removeFromList(i);'>
				<mat-icon>cancel</mat-icon></button>
			<button mat-icon-button (click)='moveDown(i);'>
				<mat-icon>arrow_downward</mat-icon></button>
		</div>
	</div>
	</cdk-virtual-scroll-viewport>
</div>
<ng-template #normal>
	<cdk-virtual-scroll-viewport itemSize="30" class="viewport">
	<div *cdkVirtualFor="let item of docs; let i = index;"
		class="item"
		(click)="itemFocus(i)"
		[ngClass]="selectedIndex === i ? 'doc-item-highlight doc-item-format' : 'doc-item doc-item-format'">
		<app-text-item-doc *ngIf="item.typeValue=='TEXT'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode>
		</app-text-item-doc>
		<app-svg-item-doc *ngIf="item.typeValue=='SVG'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode>
		</app-svg-item-doc>
		<app-url-svg-item-doc *ngIf="item.typeValue=='SVG-URL'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode>
		</app-url-svg-item-doc>
		<app-list-item-doc *ngIf="item.typeValue=='LIST'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode
			(activateListEvent)='activateList($event)'>
		</app-list-item-doc>
	</div>
	</cdk-virtual-scroll-viewport>
</ng-template>
