<div *ngIf="editMode else normal">
	<div *ngIf='!creating'>
		<button (click)="docCreateItem()">New</button>
	</div>
	<div *ngIf='creating'>
		<app-edit-item-doc
			(itemDocCloseEvent)='itemDocCloseEvent($event)'>
		</app-edit-item-doc>
	</div>
	<cdk-virtual-scroll-viewport itemSize="30" class="dyn-doc-viewport" cdkDropList (cdkDropListDropped)="drop($event)">
	<div *cdkVirtualFor="let item of docs" class="dyn-doc-item" cdkDrag>
		<div class="itemDocOuter">
			<app-text-item-doc *ngIf="item.typeValue=='TEXT'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-text-item-doc>
			<app-svg-item-doc *ngIf="item.typeValue=='SVG'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-svg-item-doc>
			<app-url-svg-item-doc *ngIf="item.typeValue=='SVG-URL'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-url-svg-item-doc>
			<app-list-item-doc *ngIf="item.typeValue=='LIST'"
				[itemDoc]=item
				[editMode]=editMode
				[viewMode]=viewMode
				(changedEvent)='toBeRefreshed($event)'>
			</app-list-item-doc>
		</div>
	</div>
	</cdk-virtual-scroll-viewport>
</div>
<ng-template #normal>
	<cdk-virtual-scroll-viewport itemSize="30" class="dyn-doc-viewport">
	<div *cdkVirtualFor="let item of docs" class="dyn-doc-item">
		<app-text-item-doc *ngIf="item.typeValue=='TEXT'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode>
		</app-text-item-doc>
		<app-svg-item-doc *ngIf="item.typeValue=='SVG'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode>
		</app-svg-item-doc>
		<app-url-svg-item-doc *ngIf="item.typeValue=='SVG-URL'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode>
		</app-url-svg-item-doc>
		<app-list-item-doc *ngIf="item.typeValue=='LIST'"
			[itemDoc]=item
			[editMode]=editMode
			[viewMode]=viewMode
			(activateListEvent)='activateList($event)'>
		</app-list-item-doc>
	</div>
	</cdk-virtual-scroll-viewport>
</ng-template>
